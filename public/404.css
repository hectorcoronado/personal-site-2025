body {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	height: 100vh;
	background-color: var(--main-bg-color);
	color: var(--main-text-color);
	font-family: var(--secondary-font-family);
}

h1 {
	/* responsive font sizing with sensible min and max values */
	font-size: clamp(1.5rem, 2vw + 12rem, 18rem);
	position: relative;
	animation: glitch-main 3s infinite, glitch-random 4s infinite;
	text-shadow: 0.05em 0 0 #ff0040, -0.05em -0.025em 0 #00ffff,
		0.025em 0.05em 0 #ff0040;
	/* Respect user's motion preferences */
	@media (prefers-reduced-motion: reduce) {
		animation: none;
		text-shadow: none;
	}
}

/* Glitch effect pseudo-elements */
h1::before,
h1::after {
	content: '404';
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: transparent;
	animation: glitch-before 0.3s infinite;
}

h1::before {
	animation: glitch-before 0.3s infinite;
	color: #ff0040;
	z-index: -1;
}

h1::after {
	animation: glitch-after 0.3s infinite;
	color: #00ffff;
	z-index: -2;
}

/* Main glitch animation */
@keyframes glitch-main {
	0%,
	100% {
		transform: translate(0);
		filter: hue-rotate(0deg);
	}
	10% {
		transform: translate(-2px, 1px);
		filter: hue-rotate(90deg);
	}
	20% {
		transform: translate(2px, -1px);
		filter: hue-rotate(180deg);
	}
	30% {
		transform: translate(-1px, 2px);
		filter: hue-rotate(270deg);
	}
	40% {
		transform: translate(1px, -2px);
		filter: hue-rotate(360deg);
	}
	50% {
		transform: translate(-2px, -1px);
		filter: hue-rotate(45deg);
	}
	60% {
		transform: translate(2px, 1px);
		filter: hue-rotate(135deg);
	}
	70% {
		transform: translate(-1px, -2px);
		filter: hue-rotate(225deg);
	}
	80% {
		transform: translate(1px, 2px);
		filter: hue-rotate(315deg);
	}
	90% {
		transform: translate(-2px, 2px);
		filter: hue-rotate(45deg);
	}
}

/* Before pseudo-element animation */
@keyframes glitch-before {
	0%,
	100% {
		transform: translate(0);
		opacity: 0.8;
	}
	10% {
		transform: translate(-0.5px, 0.5px);
		opacity: 0.6;
	}
	20% {
		transform: translate(0.5px, -0.5px);
		opacity: 0.9;
	}
	30% {
		transform: translate(-0.5px, 0.5px);
		opacity: 0.7;
	}
	40% {
		transform: translate(0.5px, -0.5px);
		opacity: 0.8;
	}
	50% {
		transform: translate(-0.5px, -0.5px);
		opacity: 0.5;
	}
	60% {
		transform: translate(0.5px, 0.5px);
		opacity: 0.9;
	}
	70% {
		transform: translate(-0.5px, -0.5px);
		opacity: 0.6;
	}
	80% {
		transform: translate(0.5px, 0.5px);
		opacity: 0.8;
	}
	90% {
		transform: translate(-0.5px, 0.5px);
		opacity: 0.7;
	}
}

/* After pseudo-element animation */
@keyframes glitch-after {
	0%,
	100% {
		transform: translate(0);
		opacity: 0.8;
	}
	10% {
		transform: translate(0.5px, -0.5px);
		opacity: 0.6;
	}
	20% {
		transform: translate(-0.5px, 0.5px);
		opacity: 0.9;
	}
	30% {
		transform: translate(0.5px, -0.5px);
		opacity: 0.7;
	}
	40% {
		transform: translate(-0.5px, 0.5px);
		opacity: 0.8;
	}
	50% {
		transform: translate(0.5px, 0.5px);
		opacity: 0.5;
	}
	60% {
		transform: translate(-0.5px, -0.5px);
		opacity: 0.9;
	}
	70% {
		transform: translate(0.5px, 0.5px);
		opacity: 0.6;
	}
	80% {
		transform: translate(-0.5px, -0.5px);
		opacity: 0.8;
	}
	90% {
		transform: translate(0.5px, -0.5px);
		opacity: 0.7;
	}
}

/* Random glitch bursts */
@keyframes glitch-random {
	0%,
	90%,
	100% {
		transform: translate(0);
		filter: hue-rotate(0deg);
	}
	91% {
		transform: translate(-4px, 3px) scale(1.05);
		filter: hue-rotate(120deg) contrast(1.3);
	}
	92% {
		transform: translate(4px, -3px) scale(0.95);
		filter: hue-rotate(240deg) contrast(0.7);
	}
	93% {
		transform: translate(-3px, -4px) scale(1.03);
		filter: hue-rotate(60deg) contrast(1.1);
	}
	94% {
		transform: translate(3px, 4px) scale(0.97);
		filter: hue-rotate(300deg) contrast(0.9);
	}
	95% {
		transform: translate(0);
		filter: hue-rotate(0deg) contrast(1);
	}
}

/* Hover effect for more intense glitch */
h1:hover {
	animation: glitch-hover 0.1s infinite, glitch-main 1s infinite;
}

/* Respect motion preferences for hover effect */
@media (prefers-reduced-motion: reduce) {
	h1,
	h1:hover {
		animation: none;
	}
}

@keyframes glitch-hover {
	0%,
	100% {
		transform: translate(0) scale(1);
		filter: hue-rotate(0deg) contrast(1);
		text-shadow: 0.05em 0 0 #ff0040, -0.05em -0.025em 0 #00ffff,
			0.025em 0.05em 0 #ff0040;
	}
	25% {
		transform: translate(-3px, 2px) scale(1.02);
		filter: hue-rotate(90deg) contrast(1.2);
		text-shadow: 0.1em 0 0 #ff0040, -0.1em -0.05em 0 #00ffff,
			0.05em 0.1em 0 #ff0040, 0.15em 0.05em 0 #ff0040;
	}
	50% {
		transform: translate(3px, -2px) scale(0.98);
		filter: hue-rotate(180deg) contrast(0.8);
		text-shadow: -0.1em 0 0 #00ffff, 0.1em 0.05em 0 #ff0040,
			-0.05em -0.1em 0 #00ffff, -0.15em -0.05em 0 #00ffff;
	}
	75% {
		transform: translate(-2px, -3px) scale(1.01);
		filter: hue-rotate(270deg) contrast(1.1);
		text-shadow: 0.05em 0 0 #ff0040, -0.05em -0.025em 0 #00ffff,
			0.025em 0.05em 0 #ff0040, 0.1em 0.1em 0 #ff0040, -0.1em -0.1em 0 #00ffff;
	}
}

h2 {
	/* responsive font sizing with sensible min and max values */
	font-size: clamp(1.25rem, 1vw + 2rem, 4rem);
}

a {
	text-decoration: none;
	color: var(--main-text-color);

	&:hover {
		text-decoration: underline;
		text-underline-offset: 3px;
	}
}
